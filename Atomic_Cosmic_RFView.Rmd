---
title: "RF Engineering: From Atomic to Cosmic Perspective"
author: "RF Engineering Teaching Notes"
date: "`r Sys.Date()`"
output:
  flexdashboard::flex_dashboard:
    orientation: columns
    vertical_layout: fill
    theme: cosmo
    navbar:
      - { title: "About", href: "#about", align: left }
    source_code: embed
bibliography: references.bib
---

```{r setup, include=FALSE}
library(flexdashboard)
library(knitr)
library(ggplot2)

# Set global chunk options
knitr::opts_chunk$set(
  echo = FALSE,
  message = FALSE,
  warning = FALSE,
  fig.width = 8,
  fig.height = 6
)
```

# Atomic & Quantum Level {data-icon="fa-atom"}

## Column {.tabset .tabset-fade}

### Introduction to Quantum RF

#### Fundamental Concepts

Radio Frequency (RF) engineering at the quantum and atomic level deals with the fundamental physics governing electromagnetic wave generation and interaction with matter.

**Key Topics:**

- Quantum mechanics of electromagnetic radiation
- Photon energy: $E = h\nu$
- Planck's constant and RF frequencies
- Atomic transitions and spectral lines

#### Electromagnetic Wave Generation

At the quantum level, electromagnetic waves are generated through:

1. **Electronic Transitions**: Electrons moving between energy levels
2. **Oscillating Charges**: Accelerating charges create EM fields
3. **Quantum Coherence**: Phase relationships in quantum systems

```{r quantum-spectrum, fig.cap="RF Spectrum Position in Electromagnetic Spectrum"}
# Create a simple visualization of the EM spectrum
freq <- c(3e9, 3e10, 3e11, 3e12, 3e13, 3e14, 3e15, 3e16, 3e17, 3e18)
wavelength <- 3e8 / freq
names <- c("RF/Microwave", "Millimeter", "Far IR", "Mid IR", "Near IR", 
           "Visible", "UV", "X-Ray", "Gamma", "Cosmic")

df <- data.frame(
  frequency = freq,
  wavelength = wavelength,
  band = names,
  energy = 6.626e-34 * freq / 1.6e-19  # in eV
)

ggplot(df, aes(x = log10(frequency), y = 1, fill = band)) +
  geom_tile(height = 0.5) +
  geom_text(aes(label = band), angle = 45, hjust = 0, size = 3) +
  scale_fill_viridis_d() +
  labs(
    title = "Electromagnetic Spectrum",
    x = "Log10(Frequency in Hz)",
    y = ""
  ) +
  theme_minimal() +
  theme(
    axis.text.y = element_blank(),
    axis.ticks.y = element_blank(),
    legend.position = "none"
  )
```

### Quantum Properties

#### Wave-Particle Duality in RF

RF waves exhibit both wave and particle properties:

- **Wave Properties**: Interference, diffraction, polarization
- **Particle Properties**: Discrete energy quanta (photons)
- **Coherence**: Phase relationships critical for RF applications

#### Energy Levels and Transitions

**Bohr Model Application:**

For hydrogen atom:
$$E_n = -\frac{13.6 \text{ eV}}{n^2}$$

**RF Photon Energy:**

At 1 GHz:
$$E = h\nu = (6.626 \times 10^{-34})(10^9) = 6.626 \times 10^{-25} \text{ J} \approx 4.14 \times 10^{-6} \text{ eV}$$

This extremely low energy explains why RF is non-ionizing radiation.

### Atomic Interactions

#### RF Interaction with Atoms

**Key Mechanisms:**

1. **Resonant Absorption**: Atoms absorb RF at specific frequencies
2. **Stimulated Emission**: Foundation for masers (microwave amplification)
3. **Magnetic Resonance**: Nuclear and electron spin interactions

#### Applications

- **Atomic Clocks**: Using cesium-133 hyperfine transitions (9.192 GHz)
- **Quantum Computing**: Superconducting qubits operate at microwave frequencies
- **Magnetic Resonance Imaging (MRI)**: RF pulses interact with hydrogen nuclei

```{r atomic-clock, fig.cap="Atomic Clock Frequency Standard"}
# Visualization of atomic clock frequency stability
time_sec <- seq(0, 100, by = 0.1)
ideal_freq <- 9.192e9
drift_ppm <- 1e-14  # parts per million for atomic clock

set.seed(42)
frequency <- ideal_freq + ideal_freq * drift_ppm * rnorm(length(time_sec))

df_clock <- data.frame(
  time = time_sec,
  frequency = frequency,
  deviation = (frequency - ideal_freq) / ideal_freq * 1e15
)

ggplot(df_clock, aes(x = time, y = deviation)) +
  geom_line(color = "blue", alpha = 0.6) +
  geom_hline(yintercept = 0, linetype = "dashed", color = "red") +
  labs(
    title = "Atomic Clock Frequency Stability",
    x = "Time (seconds)",
    y = "Frequency Deviation (×10⁻¹⁵)",
    caption = "Cesium-133 Hyperfine Transition at 9.192 GHz"
  ) +
  theme_minimal()
```

### References & Resources

#### Key References

For further reading on quantum aspects of RF:

- Pozar, D. M. (2011). *Microwave Engineering*. 4th Edition
- Griffiths, D. J. (2017). *Introduction to Quantum Mechanics*
- Feynman, R. P. (1985). *QED: The Strange Theory of Light and Matter*

#### Online Resources

- NIST Atomic Clock Resources
- IEEE Quantum Electronics publications
- MIT OpenCourseWare: Electromagnetic Theory


# Molecular & Material Level {data-icon="fa-cube"}

## Column {.tabset .tabset-fade}

### Material Properties

#### RF Materials Science

Understanding materials at the molecular level is crucial for RF engineering:

**Dielectric Materials:**

- Permittivity: $\epsilon = \epsilon_0 \epsilon_r$
- Loss tangent: $\tan\delta = \frac{\epsilon''}{\epsilon'}$
- Polarization mechanisms

**Magnetic Materials:**

- Permeability: $\mu = \mu_0 \mu_r$
- Ferrites for RF applications
- Magnetic losses at high frequencies

```{r dielectric-properties, fig.cap="Dielectric Constant vs Frequency"}
# Common RF materials dielectric properties
materials <- c("Air", "PTFE (Teflon)", "FR-4", "Alumina", "Silicon", "GaAs")
epsilon_r <- c(1.0, 2.1, 4.5, 9.8, 11.9, 12.9)
loss_tangent <- c(0, 0.0002, 0.02, 0.0001, 0.015, 0.006)

df_materials <- data.frame(
  Material = materials,
  Epsilon_r = epsilon_r,
  Loss_Tangent = loss_tangent
)

ggplot(df_materials, aes(x = reorder(Material, Epsilon_r), y = Epsilon_r, fill = Loss_Tangent)) +
  geom_col() +
  scale_fill_gradient(low = "green", high = "red", name = "Loss Tangent") +
  coord_flip() +
  labs(
    title = "Dielectric Properties of Common RF Materials",
    x = "Material",
    y = "Relative Permittivity (εᵣ)"
  ) +
  theme_minimal()
```

### Substrate Materials

#### PCB Substrates for RF

**Common Substrates:**

1. **FR-4**: General purpose, εᵣ ≈ 4.5
   - Low cost
   - Moderate loss
   - Good for < 2 GHz

2. **Rogers Materials**: High-performance RF
   - RO4003C: εᵣ = 3.38, low loss
   - RO4350B: εᵣ = 3.48, excellent stability
   - Good for microwave frequencies

3. **PTFE-based**: Ultra-low loss
   - RT/duroid: εᵣ = 2.2-10.2
   - Excellent thermal stability

#### Substrate Selection Criteria

Key parameters for RF substrate selection:

- Dielectric constant (εᵣ)
- Loss tangent (tan δ)
- Thermal coefficient of εᵣ
- Copper adhesion
- Cost vs. performance

### Conductors & Semiconductors

#### Conductor Properties

**Skin Effect:**

At high frequencies, current flows near the conductor surface:

$$\delta = \sqrt{\frac{2}{\omega\mu\sigma}}$$

where:
- δ is skin depth
- ω is angular frequency
- μ is permeability
- σ is conductivity

```{r skin-effect, fig.cap="Skin Depth vs Frequency for Copper"}
# Calculate skin depth for copper
freq_hz <- 10^seq(6, 11, by = 0.1)  # 1 MHz to 100 GHz
mu_0 <- 4 * pi * 1e-7
sigma_copper <- 5.96e7  # S/m for copper

skin_depth_m <- sqrt(2 / (2 * pi * freq_hz * mu_0 * sigma_copper))
skin_depth_um <- skin_depth_m * 1e6

df_skin <- data.frame(
  frequency_GHz = freq_hz / 1e9,
  skin_depth_um = skin_depth_um
)

ggplot(df_skin, aes(x = frequency_GHz, y = skin_depth_um)) +
  geom_line(color = "red", size = 1) +
  scale_x_log10() +
  scale_y_log10() +
  labs(
    title = "Skin Depth in Copper vs Frequency",
    x = "Frequency (GHz)",
    y = "Skin Depth (μm)"
  ) +
  theme_minimal() +
  annotation_logticks()
```

#### Semiconductor RF Devices

**Key Materials:**

- **Silicon (Si)**: CMOS RF circuits
- **Gallium Arsenide (GaAs)**: High-frequency amplifiers
- **Gallium Nitride (GaN)**: High-power RF
- **Silicon Germanium (SiGe)**: BiCMOS applications

### Crystal Structures

#### Crystalline vs Amorphous

**Impact on RF Properties:**

1. **Single Crystal**: Best performance
   - Low defects
   - Consistent properties
   - High electron mobility

2. **Polycrystalline**: Moderate performance
   - Grain boundaries
   - Variable properties

3. **Amorphous**: Lower performance
   - Disordered structure
   - Higher losses

#### Molecular Bonding

Types of bonds affecting RF properties:

- **Covalent**: Strong, directional (semiconductors)
- **Ionic**: Strong, non-directional (ceramics)
- **Metallic**: Free electrons (conductors)
- **Van der Waals**: Weak (polymers)


# Device Level {data-icon="fa-microchip"}

## Column {.tabset .tabset-fade}

### Passive Components

#### RF Passive Components

**Resistors:**
- Power handling
- Parasitic effects at RF
- Termination and matching

**Capacitors:**
- Series resonant frequency (SRF)
- Q factor
- Temperature stability

**Inductors:**
- Self-resonant frequency
- Q factor
- Core materials

```{r component-models, fig.cap="Equivalent Circuit Models"}
# Create a visualization showing impedance vs frequency for different components
freq_MHz <- seq(0.1, 1000, by = 0.5)

# Ideal vs real capacitor (10 pF with 1 nH ESL)
C <- 10e-12
L_esl <- 1e-9
Z_cap_ideal <- 1 / (2 * pi * freq_MHz * 1e6 * C)
Z_cap_real <- abs(2 * pi * freq_MHz * 1e6 * L_esl - 1 / (2 * pi * freq_MHz * 1e6 * C))

# Ideal vs real inductor (10 nH with 0.5 pF parasitic C)
L <- 10e-9
C_par <- 0.5e-12
Z_ind_ideal <- 2 * pi * freq_MHz * 1e6 * L
f_res <- 1 / (2 * pi * sqrt(L * C_par)) / 1e6

df_impedance <- data.frame(
  frequency = rep(freq_MHz, 2),
  impedance = c(Z_cap_ideal, Z_ind_ideal),
  component = rep(c("Capacitor (10 pF)", "Inductor (10 nH)"), each = length(freq_MHz))
)

ggplot(df_impedance, aes(x = frequency, y = impedance, color = component)) +
  geom_line(size = 1) +
  scale_x_log10() +
  scale_y_log10() +
  labs(
    title = "Ideal Component Impedance vs Frequency",
    x = "Frequency (MHz)",
    y = "Impedance (Ω)",
    color = "Component"
  ) +
  theme_minimal() +
  theme(legend.position = "bottom")
```

### Active Components

#### RF Transistors

**Types:**

1. **BJT (Bipolar Junction Transistor)**
   - Good linearity
   - Lower noise at lower frequencies
   - Current controlled

2. **FET (Field Effect Transistor)**
   - **MOSFET**: CMOS integration
   - **JFET**: Low noise
   - **HEMT**: High-frequency performance

3. **HBT (Heterojunction Bipolar Transistor)**
   - SiGe HBT
   - GaAs HBT

**Key Parameters:**

- fT (transition frequency)
- fmax (maximum oscillation frequency)
- Noise figure (NF)
- Power gain
- Linearity (IP3)

#### RF Amplifiers

**Amplifier Classes:**

- **Class A**: Linear, inefficient (~50%)
- **Class B**: Push-pull, ~78% efficiency
- **Class AB**: Compromise
- **Class C**: High efficiency, nonlinear
- **Class E/F**: Switch-mode, very high efficiency

**Design Considerations:**

- Stability (K-factor, μ-factor)
- Matching networks (input/output)
- Bias networks
- Thermal management

### Transmission Lines

#### Transmission Line Theory

**Fundamental Equations:**

Characteristic impedance:
$$Z_0 = \sqrt{\frac{L}{C}} = \sqrt{\frac{R + j\omega L}{G + j\omega C}}$$

Propagation constant:
$$\gamma = \alpha + j\beta = \sqrt{(R + j\omega L)(G + j\omega C)}$$

**Types:**

1. **Microstrip**: Common PCB implementation
2. **Stripline**: Symmetric, lower radiation
3. **Coaxial**: Shielded, broadband
4. **Waveguide**: High power, low loss at mm-wave

```{r transmission-line, fig.cap="Microstrip Characteristic Impedance"}
# Calculate microstrip Z0 vs width for different substrates
w_mm <- seq(0.1, 5, by = 0.05)
h <- 1.6  # substrate thickness in mm

# Simplified microstrip formula for Z0
calc_Z0 <- function(w, h, er) {
  w_eff <- w / h
  if (w_eff < 1) {
    Z0 <- (60 / sqrt(er)) * log(8/w_eff + w_eff/4)
  } else {
    Z0 <- (120 * pi) / (sqrt(er) * (w_eff + 1.393 + 0.667 * log(w_eff + 1.444)))
  }
  return(Z0)
}

# Calculate for different substrate materials
Z0_fr4 <- sapply(w_mm, function(w) calc_Z0(w, h, 4.5))
Z0_rogers <- sapply(w_mm, function(w) calc_Z0(w, h, 3.38))
Z0_alumina <- sapply(w_mm, function(w) calc_Z0(w, h, 9.8))

df_z0 <- data.frame(
  width = rep(w_mm, 3),
  Z0 = c(Z0_fr4, Z0_rogers, Z0_alumina),
  substrate = rep(c("FR-4 (εᵣ=4.5)", "Rogers (εᵣ=3.38)", "Alumina (εᵣ=9.8)"), 
                  each = length(w_mm))
)

ggplot(df_z0, aes(x = width, y = Z0, color = substrate)) +
  geom_line(size = 1) +
  geom_hline(yintercept = 50, linetype = "dashed", alpha = 0.5) +
  labs(
    title = "Microstrip Characteristic Impedance",
    subtitle = "h = 1.6 mm substrate thickness",
    x = "Trace Width (mm)",
    y = "Characteristic Impedance (Ω)",
    color = "Substrate"
  ) +
  theme_minimal() +
  theme(legend.position = "bottom")
```

### Antennas

#### Antenna Fundamentals

**Key Parameters:**

- **Gain**: Directivity × Efficiency
- **Directivity**: Power concentration
- **Radiation Pattern**: Spatial distribution
- **Impedance**: Matching to feedline
- **Bandwidth**: Operating frequency range
- **Polarization**: E-field orientation

**Friis Transmission Equation:**

$$P_r = P_t G_t G_r \left(\frac{\lambda}{4\pi d}\right)^2$$

#### Common Antenna Types

1. **Dipole**: λ/2 length, omnidirectional
2. **Monopole**: λ/4 with ground plane
3. **Patch**: Planar, directional
4. **Horn**: Broadband, high gain
5. **Parabolic**: Very high gain
6. **Array**: Beam steering capability

```{r antenna-patterns, fig.cap="Dipole Antenna Radiation Pattern"}
# Generate radiation pattern for half-wave dipole
theta <- seq(0, 2*pi, by = 0.01)
# Dipole pattern: |cos((pi/2)*cos(theta))/sin(theta)|
pattern <- abs(cos((pi/2) * cos(theta)) / sin(theta))
pattern[is.nan(pattern)] <- 0
pattern[is.infinite(pattern)] <- 0

# Normalize
pattern <- pattern / max(pattern, na.rm = TRUE)

# Convert to Cartesian
x <- pattern * cos(theta)
y <- pattern * sin(theta)

df_pattern <- data.frame(x = x, y = y, theta = theta)

ggplot(df_pattern, aes(x = x, y = y)) +
  geom_path(color = "blue", size = 1) +
  geom_hline(yintercept = 0, alpha = 0.3) +
  geom_vline(xintercept = 0, alpha = 0.3) +
  coord_fixed() +
  labs(
    title = "Half-Wave Dipole Radiation Pattern",
    subtitle = "E-plane (normalized)",
    x = "Relative Gain",
    y = "Relative Gain"
  ) +
  theme_minimal()
```

### Filters & Matching

#### RF Filters

**Filter Types:**

1. **Low-Pass**: Passes DC to fc
2. **High-Pass**: Passes fc to ∞
3. **Band-Pass**: Passes f1 to f2
4. **Band-Stop**: Rejects f1 to f2

**Implementation:**

- Lumped element (L, C)
- Distributed element (transmission line)
- Cavity resonators
- SAW/BAW filters
- Ceramic filters

#### Impedance Matching

**Why Match?**

- Maximum power transfer
- Minimize reflections
- Improve noise figure

**Matching Methods:**

1. **L-Match**: 2 elements
2. **Pi-Match**: 3 elements, more flexibility
3. **T-Match**: 3 elements
4. **Stub Matching**: Transmission line based

**Smith Chart:**

- Graphical impedance matching tool
- Plots reflection coefficient
- Facilitates matching network design


# System Level {data-icon="fa-broadcast-tower"}

## Column {.tabset .tabset-fade}

### RF Systems

#### Complete RF System Architecture

**Transmitter Chain:**

```
Data → Baseband → Modulator → Upconverter → PA → Filter → Antenna
```

**Receiver Chain:**

```
Antenna → Filter → LNA → Downconverter → Demodulator → Baseband → Data
```

**Key Subsystems:**

1. **Frequency Generation**: PLLs, VCOs, synthesizers
2. **Signal Processing**: Modulation/demodulation
3. **Power Amplification**: Transmit chain
4. **Low Noise Amplification**: Receive chain
5. **Filtering**: Selectivity and interference rejection

#### System Link Budget

**Link Budget Equation:**

$$P_{rx} = P_{tx} + G_{tx} - L_{path} - L_{misc} + G_{rx} \text{ (in dB)}$$

**Path Loss (Free Space):**

$$L_{path} = 20\log_{10}(d) + 20\log_{10}(f) + 20\log_{10}\left(\frac{4\pi}{c}\right)$$

**Receiver Sensitivity:**

$$P_{sens} = kTB + NF + SNR_{req}$$

```{r link-budget, fig.cap="Link Budget Analysis"}
# Calculate link budget for different distances
distance_km <- seq(1, 100, by = 1)
freq_GHz <- 2.4
Pt_dBm <- 20  # 100 mW
Gt_dBi <- 10
Gr_dBi <- 10
L_misc_dB <- 5  # cables, connectors, etc.

# Free space path loss
FSPL_dB <- 20*log10(distance_km) + 20*log10(freq_GHz) + 92.45

# Received power
Pr_dBm <- Pt_dBm + Gt_dBi + Gr_dBi - FSPL_dB - L_misc_dB

# Sensitivity (example)
sensitivity_dBm <- -90

df_link <- data.frame(
  distance_km = distance_km,
  received_power = Pr_dBm,
  margin = Pr_dBm - sensitivity_dBm
)

ggplot(df_link, aes(x = distance_km, y = received_power)) +
  geom_line(color = "blue", size = 1) +
  geom_hline(yintercept = sensitivity_dBm, linetype = "dashed", color = "red") +
  geom_ribbon(aes(ymin = sensitivity_dBm, ymax = received_power), 
              fill = "green", alpha = 0.2) +
  labs(
    title = "RF Link Budget vs Distance",
    subtitle = paste("2.4 GHz, Pt =", Pt_dBm, "dBm, Gt = Gr =", Gt_dBi, "dBi"),
    x = "Distance (km)",
    y = "Received Power (dBm)",
    caption = "Red line: Receiver sensitivity (-90 dBm)"
  ) +
  theme_minimal()
```

### Modulation Schemes

#### Digital Modulation

**Common Schemes:**

1. **ASK (Amplitude Shift Keying)**
   - On-Off Keying (OOK)
   - Simple, prone to noise

2. **FSK (Frequency Shift Keying)**
   - Bluetooth, LoRa
   - Better noise immunity

3. **PSK (Phase Shift Keying)**
   - BPSK: 1 bit/symbol
   - QPSK: 2 bits/symbol
   - 8PSK: 3 bits/symbol

4. **QAM (Quadrature Amplitude Modulation)**
   - 16-QAM, 64-QAM, 256-QAM
   - High spectral efficiency
   - Requires good SNR

#### Spectral Efficiency

**Comparison:**

| Modulation | Bits/Symbol | Bandwidth Efficiency |
|------------|-------------|----------------------|
| BPSK       | 1           | 1 bit/s/Hz          |
| QPSK       | 2           | 2 bit/s/Hz          |
| 16-QAM     | 4           | 4 bit/s/Hz          |
| 64-QAM     | 6           | 6 bit/s/Hz          |

**Trade-offs:**

- Higher order → More data rate
- Higher order → More sensitive to noise
- Higher order → More power consumption

### Communication Standards

#### Wireless Standards

**Cellular:**

- **2G**: GSM (900/1800 MHz)
- **3G**: UMTS/WCDMA (2.1 GHz)
- **4G**: LTE (multiple bands)
- **5G**: Sub-6 GHz and mmWave (24-100 GHz)

**WiFi (IEEE 802.11):**

- 802.11b/g/n: 2.4 GHz
- 802.11a/n/ac: 5 GHz
- 802.11ax (WiFi 6): 2.4/5 GHz
- 802.11be (WiFi 7): 2.4/5/6 GHz

**IoT:**

- **Bluetooth**: 2.4 GHz ISM band
- **Zigbee**: 2.4 GHz IEEE 802.15.4
- **LoRa**: Sub-GHz (433/868/915 MHz)
- **NB-IoT**: Licensed cellular bands

```{r spectrum-allocation, fig.cap="Common Wireless Bands"}
# Wireless bands visualization
bands <- data.frame(
  name = c("FM Radio", "TV", "GSM-900", "GPS", "GSM-1800", "WiFi 2.4", 
           "LTE", "WiFi 5", "5G mmWave"),
  start_MHz = c(88, 470, 890, 1575, 1710, 2400, 2500, 5150, 28000),
  end_MHz = c(108, 862, 960, 1610, 1880, 2483, 2690, 5850, 29000),
  type = c("Broadcast", "Broadcast", "Cellular", "Navigation", "Cellular", 
           "WiFi", "Cellular", "WiFi", "Cellular")
)

ggplot(bands, aes(xmin = start_MHz, xmax = end_MHz, ymin = 0, ymax = 1, fill = type)) +
  geom_rect(alpha = 0.7) +
  geom_text(aes(x = (start_MHz + end_MHz)/2, y = 0.5, label = name), 
            angle = 0, size = 3) +
  scale_x_log10() +
  labs(
    title = "Common Wireless Frequency Bands",
    x = "Frequency (MHz)",
    y = "",
    fill = "Type"
  ) +
  theme_minimal() +
  theme(
    axis.text.y = element_blank(),
    axis.ticks.y = element_blank()
  )
```

### Radar Systems

#### Radar Fundamentals

**Radar Equation:**

$$P_r = \frac{P_t G^2 \lambda^2 \sigma}{(4\pi)^3 R^4}$$

where:
- Pt: Transmitted power
- G: Antenna gain
- λ: Wavelength
- σ: Radar cross section
- R: Range

**Types of Radar:**

1. **Pulse Radar**: Range measurement
2. **Doppler Radar**: Velocity measurement
3. **FMCW**: Continuous wave, range/velocity
4. **SAR**: Synthetic Aperture Radar
5. **Phased Array**: Electronic beam steering

#### Radar Applications

**Military:**
- Air defense
- Target tracking
- Navigation

**Civilian:**
- Weather monitoring
- Air traffic control
- Automotive (collision avoidance)
- Speed enforcement

**Range Resolution:**

$$\Delta R = \frac{c}{2B}$$

where B is the bandwidth.

### System Performance

#### Key Performance Metrics

**Noise Figure (NF):**

Degradation of SNR through a system:
$$NF = 10\log_{10}\left(\frac{SNR_{in}}{SNR_{out}}\right)$$

**Cascaded Noise Figure (Friis):**

$$F_{total} = F_1 + \frac{F_2-1}{G_1} + \frac{F_3-1}{G_1G_2} + ...$$

**Dynamic Range:**

- **Spurious-Free Dynamic Range (SFDR)**
- **Intermodulation products**: IP2, IP3
- **1-dB Compression Point**: P1dB

**Sensitivity:**

$$P_{sens} = -174 \text{ dBm/Hz} + 10\log_{10}(B) + NF + SNR_{req}$$

```{r noise-figure, fig.cap="Cascaded System Noise Figure"}
# Example receiver chain
stages <- c("LNA", "Mixer", "IF Amp", "Demod")
gains_dB <- c(20, -7, 30, 0)
NF_dB <- c(1.5, 8, 4, 10)

# Calculate cascaded NF
gains_linear <- 10^(gains_dB/10)
F <- 10^(NF_dB/10)

F_cascade <- numeric(length(F))
F_cascade[1] <- F[1]
for (i in 2:length(F)) {
  G_prod <- prod(gains_linear[1:(i-1)])
  F_cascade[i] <- F_cascade[i-1] + (F[i] - 1) / G_prod
}

NF_cascade_dB <- 10 * log10(F_cascade)

df_nf <- data.frame(
  stage = factor(stages, levels = stages),
  stage_NF = NF_dB,
  cumulative_NF = NF_cascade_dB,
  gain = gains_dB
)

ggplot(df_nf, aes(x = stage)) +
  geom_col(aes(y = stage_NF, fill = "Stage NF"), alpha = 0.6, position = "dodge") +
  geom_line(aes(y = cumulative_NF, group = 1, color = "Cumulative NF"), size = 1.5) +
  geom_point(aes(y = cumulative_NF, color = "Cumulative NF"), size = 3) +
  labs(
    title = "Receiver Chain Noise Figure Analysis",
    x = "Stage",
    y = "Noise Figure (dB)",
    fill = "",
    color = ""
  ) +
  theme_minimal() +
  theme(legend.position = "bottom")
```


# Terrestrial Level {data-icon="fa-globe"}

## Column {.tabset .tabset-fade}

### Network Infrastructure

#### Terrestrial RF Networks

**Cellular Network Architecture:**

1. **User Equipment (UE)**: Mobile devices
2. **Base Stations (eNodeB/gNB)**: Cell towers
3. **Backhaul**: Fiber/microwave links
4. **Core Network**: Switching and routing

**Coverage Types:**

- **Macrocells**: Large area, outdoor
- **Microcells**: Urban, hotspots
- **Picocells**: Indoor, small area
- **Femtocells**: Home, enterprise

```{r cell-coverage, fig.cap="Cellular Coverage Patterns"}
# Simulate hexagonal cell pattern
library(ggplot2)

# Generate hexagonal cell centers
hex_centers <- data.frame(
  x = c(0, rep(c(-1.5, -1.5, 0, 1.5, 1.5, 0), 1),
        rep(c(-3, -3, -1.5, -1.5, 0, 1.5, 1.5, 3, 3, 1.5, 1.5, 0), 0.5)),
  y = c(0, rep(c(sqrt(3)/2, -sqrt(3)/2, -sqrt(3), -sqrt(3)/2, sqrt(3)/2, sqrt(3)), 1),
        rep(c(sqrt(3), 0, 1.5*sqrt(3), 0, 2*sqrt(3), 1.5*sqrt(3), 0, sqrt(3), 0, -sqrt(3), -1.5*sqrt(3), -2*sqrt(3)), 0.5))
)

# Create hexagons
create_hexagon <- function(cx, cy, size = 1) {
  angles <- seq(0, 2*pi, length.out = 7)
  data.frame(
    x = cx + size * cos(angles),
    y = cy + size * sin(angles),
    cell = paste(cx, cy, sep = "_")
  )
}

hex_polygons <- do.call(rbind, lapply(1:nrow(hex_centers), function(i) {
  create_hexagon(hex_centers$x[i], hex_centers$y[i], 1)
}))

ggplot() +
  geom_polygon(data = hex_polygons, aes(x = x, y = y, group = cell), 
               fill = "lightblue", color = "blue", alpha = 0.3, size = 1) +
  geom_point(data = hex_centers, aes(x = x, y = y), 
             color = "red", size = 4, shape = 17) +
  coord_fixed() +
  labs(
    title = "Hexagonal Cell Pattern in Cellular Networks",
    subtitle = "Red triangles represent base stations",
    x = "",
    y = ""
  ) +
  theme_minimal() +
  theme(
    axis.text = element_blank(),
    axis.ticks = element_blank()
  )
```

### Propagation Models

#### Terrestrial Propagation

**Path Loss Models:**

1. **Free Space**: Line of sight
   $$L_{fs} = 20\log_{10}(d) + 20\log_{10}(f) + 92.45 \text{ dB}$$

2. **Okumura-Hata**: Urban/suburban
   - Empirical model
   - 150 MHz - 1.5 GHz
   - Up to 20 km range

3. **COST-231**: Extended Hata
   - 1.5 - 2 GHz
   - Urban environments

4. **ITU Models**: Various scenarios

**Propagation Effects:**

- **Reflection**: From buildings, ground
- **Diffraction**: Over obstacles
- **Scattering**: From rough surfaces
- **Multipath**: Multiple signal paths
- **Fading**: Time-varying channel

```{r propagation-loss, fig.cap="Comparison of Path Loss Models"}
# Compare different propagation models
distance_km <- seq(0.1, 20, by = 0.1)
freq_MHz <- 900
h_bs <- 30  # base station height (m)
h_ms <- 1.5  # mobile height (m)

# Free space
fspl <- 20*log10(distance_km*1000) + 20*log10(freq_MHz) - 27.55

# Simplified Okumura-Hata (urban)
a_hm <- (1.1*log10(freq_MHz) - 0.7)*h_ms - (1.56*log10(freq_MHz) - 0.8)
L_urban <- 69.55 + 26.16*log10(freq_MHz) - 13.82*log10(h_bs) - a_hm + 
  (44.9 - 6.55*log10(h_bs))*log10(distance_km)

# Two-ray ground reflection (simplified)
two_ray <- 40*log10(distance_km*1000) - (10*log10(h_bs^2 * h_ms^2))

df_prop <- data.frame(
  distance = rep(distance_km, 3),
  loss = c(fspl, L_urban, pmin(two_ray, 200)),
  model = rep(c("Free Space", "Okumura-Hata (Urban)", "Two-Ray Ground"), 
              each = length(distance_km))
)

ggplot(df_prop[df_prop$distance <= 20, ], aes(x = distance, y = loss, color = model)) +
  geom_line(size = 1) +
  labs(
    title = "Path Loss vs Distance (900 MHz)",
    x = "Distance (km)",
    y = "Path Loss (dB)",
    color = "Model"
  ) +
  theme_minimal() +
  theme(legend.position = "bottom")
```

### Spectrum Management

#### Frequency Allocation

**Regulatory Bodies:**

- **ITU**: International Telecommunication Union
- **FCC**: Federal Communications Commission (US)
- **ETSI**: European Telecommunications Standards Institute
- **National regulators**: Country-specific

**Spectrum Bands:**

1. **Licensed**: Exclusive use, cellular operators
2. **Unlicensed**: Shared, WiFi, Bluetooth (ISM bands)
3. **Licensed Shared**: CBRS, dynamic access

**ISM Bands (Industrial, Scientific, Medical):**

- 433 MHz (Region 1)
- 915 MHz (Region 2)
- 2.4 GHz (Global)
- 5.8 GHz (Global)

#### Interference Management

**Co-channel Interference:**

- Same frequency, different cells
- Frequency reuse patterns

**Adjacent Channel Interference:**

- Nearby frequencies
- Filter requirements
- Spectral masks

**Intermodulation:**

- Non-linear mixing
- 3rd order products most critical

### Backhaul & Distribution

#### Wireless Backhaul

**Microwave Links:**

- Point-to-point
- 6-42 GHz typical
- Line of sight required
- High capacity (up to 10 Gbps)

**mmWave Backhaul:**

- E-band (71-76, 81-86 GHz)
- V-band (57-64 GHz)
- Very high capacity
- Short range (< 5 km)

**Satellite Backhaul:**

- Remote/rural areas
- Higher latency
- Expensive

```{r backhaul-capacity, fig.cap="Backhaul Technology Comparison"}
# Backhaul technologies
tech <- c("Fiber", "Microwave\n(18 GHz)", "Microwave\n(80 GHz)", 
          "mmWave\n(E-band)", "Satellite")
capacity_Gbps <- c(100, 1.5, 10, 10, 0.5)
cost <- c(5, 2, 3, 4, 3)  # relative
range_km <- c(100, 50, 15, 5, 1000)

df_backhaul <- data.frame(
  technology = factor(tech, levels = tech),
  capacity = capacity_Gbps,
  cost = cost,
  range = range_km
)

ggplot(df_backhaul, aes(x = technology, y = capacity, fill = technology)) +
  geom_col() +
  labs(
    title = "Backhaul Technology Capacity Comparison",
    x = "Technology",
    y = "Typical Capacity (Gbps)",
    fill = "Technology"
  ) +
  theme_minimal() +
  theme(legend.position = "none")
```

### Smart Cities & IoT

#### IoT Connectivity

**LPWAN (Low Power Wide Area Networks):**

1. **LoRaWAN**:
   - Long range (2-15 km)
   - Low power
   - Unlicensed band
   - Low data rate (0.3-50 kbps)

2. **NB-IoT**:
   - Cellular infrastructure
   - Licensed spectrum
   - Better coverage
   - Higher reliability

3. **Sigfox**:
   - Ultra-narrow band
   - Very low power
   - Limited messages/day

**Applications:**

- Smart metering
- Environmental monitoring
- Asset tracking
- Smart agriculture
- Industrial IoT

#### 5G and Beyond

**5G Features:**

- **eMBB**: Enhanced Mobile Broadband (> 1 Gbps)
- **URLLC**: Ultra-Reliable Low Latency (< 1 ms)
- **mMTC**: Massive Machine Type Communications

**Technologies:**

- Massive MIMO
- Beamforming
- Network slicing
- Edge computing


# Cosmic Level {data-icon="fa-rocket"}

## Column {.tabset .tabset-fade}

### Space Communications

#### Satellite Communication Systems

**Orbits:**

1. **LEO (Low Earth Orbit)**: 160-2000 km
   - Low latency (~25 ms)
   - Fast movement
   - Starlink, OneWeb

2. **MEO (Medium Earth Orbit)**: 2000-35786 km
   - GPS, Galileo, GLONASS
   - ~6000 km typical

3. **GEO (Geostationary)**: 35786 km
   - Fixed position relative to Earth
   - High latency (~250 ms)
   - Traditional comsats

**Frequency Bands:**

- **L-band**: 1-2 GHz (mobile satcom)
- **S-band**: 2-4 GHz (weather, communications)
- **C-band**: 4-8 GHz (fixed satcom)
- **X-band**: 8-12 GHz (military, space)
- **Ku-band**: 12-18 GHz (broadcast, VSAT)
- **Ka-band**: 26-40 GHz (high-throughput)

```{r satellite-orbits, fig.cap="Satellite Orbit Comparison"}
# Orbit parameters
orbits <- data.frame(
  type = c("LEO", "MEO (GPS)", "GEO"),
  altitude_km = c(550, 20200, 35786),
  latency_ms = c(2.7, 134, 238),
  coverage_percent = c(1, 38, 42)
)

ggplot(orbits, aes(x = type, y = altitude_km, fill = type)) +
  geom_col() +
  geom_text(aes(label = paste(altitude_km, "km")), vjust = -0.5) +
  scale_y_log10() +
  labs(
    title = "Satellite Orbit Altitudes",
    x = "Orbit Type",
    y = "Altitude (km, log scale)",
    fill = "Orbit"
  ) +
  theme_minimal() +
  theme(legend.position = "none")
```

#### Deep Space Communications

**NASA Deep Space Network (DSN):**

- 70m parabolic antennas
- X-band (7-8 GHz) and Ka-band (32 GHz)
- Support for Mars, Jupiter, beyond

**Link Budget Challenges:**

- Enormous distances
- Very low received power (femtowatts)
- Large antennas required
- Error correction critical

**Example: Mars Communication**

At closest approach (~55 million km):
- Path loss: ~310 dB at 8 GHz
- One-way light time: ~3 minutes
- Data rates: Few kbps to ~250 Mbps (Mars orbit)

### Radio Astronomy

#### Radio Telescopes

**Science Goals:**

- Study cosmic microwave background
- Observe distant galaxies
- Detect pulsars and quasars
- Search for extraterrestrial intelligence (SETI)

**Famous Instruments:**

1. **Arecibo** (collapsed 2020): 305m dish
2. **Green Bank Telescope**: 100m, steerable
3. **Very Large Array (VLA)**: 27×25m dishes
4. **ALMA**: 66 antennas, 12-7m, Chile
5. **Square Kilometre Array (SKA)**: Under construction

**Frequencies:**

- HI line: 1420 MHz (neutral hydrogen)
- OH lines: 1612, 1665, 1667, 1720 MHz
- Water maser: 22 GHz
- Wide spectral coverage for continuum

```{r radio-spectrum-astro, fig.cap="Radio Astronomy Frequency Bands"}
# Radio astronomy bands
astro_bands <- data.frame(
  name = c("HI Line", "OH Lines", "Methanol", "Water", "Ammonia", "CMB Peak"),
  frequency_MHz = c(1420, 1665, 6668, 22235, 23694, 160000),
  type = c("Spectral Line", "Spectral Line", "Spectral Line", 
           "Spectral Line", "Spectral Line", "Continuum")
)

ggplot(astro_bands, aes(x = frequency_MHz, y = 1, color = type, size = 3)) +
  geom_point() +
  geom_text(aes(label = name), angle = 45, hjust = -0.1, size = 3) +
  scale_x_log10() +
  labs(
    title = "Important Radio Astronomy Frequencies",
    x = "Frequency (MHz, log scale)",
    y = "",
    color = "Type"
  ) +
  theme_minimal() +
  theme(
    axis.text.y = element_blank(),
    axis.ticks.y = element_blank(),
    legend.position = "bottom"
  )
```

#### Interferometry

**Principle:**

Combine signals from multiple antennas to create a virtual large aperture.

**Resolution:**

$$\theta = \frac{\lambda}{D}$$

where D is the baseline (antenna separation).

**Very Long Baseline Interferometry (VLBI):**

- Earth-scale baselines
- Extremely high resolution
- Requires precise timing (atomic clocks)
- Event Horizon Telescope (EHT)

### Navigation Systems

#### Global Navigation Satellite Systems (GNSS)

**Major Systems:**

1. **GPS** (US):
   - L1: 1575.42 MHz
   - L2: 1227.60 MHz
   - L5: 1176.45 MHz
   - 31 satellites

2. **GLONASS** (Russia):
   - L1: ~1602 MHz
   - L2: ~1246 MHz
   - 24 satellites

3. **Galileo** (EU):
   - E1: 1575.42 MHz
   - E5: 1191.795 MHz
   - E6: 1278.75 MHz

4. **BeiDou** (China):
   - Multiple frequencies
   - Regional + global

**Positioning Principle:**

Trilateration using time-of-arrival from multiple satellites:
- 4 satellites minimum (3D position + time)
- Speed of light × time delay = distance

**Accuracy:**

- Standard: 5-10m
- DGPS: 1-3m
- RTK: cm-level

```{r gnss-accuracy, fig.cap="GNSS Accuracy Evolution"}
# GNSS accuracy over time
years <- seq(1995, 2025, by = 5)
gps_accuracy <- c(100, 20, 10, 5, 3, 2, 1.5)

df_gnss <- data.frame(
  year = years,
  accuracy_m = gps_accuracy,
  technology = c("Selective Availability ON", "SA OFF", "Modernization", 
                 "L5 Signal", "Multi-GNSS", "PPP", "RTK Mainstream")
)

ggplot(df_gnss, aes(x = year, y = accuracy_m)) +
  geom_line(color = "blue", size = 1) +
  geom_point(size = 3, color = "red") +
  geom_text(aes(label = technology), angle = 45, hjust = -0.1, size = 3) +
  scale_y_log10() +
  labs(
    title = "GPS Accuracy Improvement Over Time",
    x = "Year",
    y = "Typical Accuracy (meters, log scale)"
  ) +
  theme_minimal()
```

### Cosmic Radio Sources

#### Natural Radio Emissions

**Sources:**

1. **Sun**: Solar radio bursts
2. **Jupiter**: Decametric emissions
3. **Pulsars**: Rotating neutron stars
4. **Quasars**: Active galactic nuclei
5. **CMB**: Cosmic Microwave Background (2.725 K)

**Cosmic Microwave Background:**

- Relic radiation from Big Bang
- Peak at ~160 GHz (1.9 mm)
- Temperature: 2.725 K
- Blackbody spectrum

**Fast Radio Bursts (FRBs):**

- Millisecond-duration pulses
- Extragalactic origin
- Extreme energies
- Mystery: what creates them?

#### Radio Frequency Interference (RFI)

**Challenge for Radio Astronomy:**

- Terrestrial transmitters
- Satellite downlinks
- Unintentional emissions
- Power line noise

**Mitigation:**

- Radio quiet zones
- Spectral filtering
- RFI excision algorithms
- Space-based observatories

### Future of RF Technology

#### Emerging Technologies

**Terahertz (THz):**

- 0.1 - 10 THz
- Between RF and optical
- Applications: imaging, spectroscopy, 6G

**Quantum Communications:**

- Quantum key distribution
- Quantum radar
- Entanglement-based

**Reconfigurable Intelligent Surfaces (RIS):**

- Smart reflecting surfaces
- Control propagation environment
- Passive beamforming

#### 6G Vision (2030+)

**Goals:**

- Terabit/s data rates
- Sub-millisecond latency
- AI-native networks
- Holographic communications
- Integration with sensing

**Technologies:**

- THz frequencies (100-300 GHz)
- Massive MIMO evolution
- Satellite-terrestrial integration
- Quantum-safe security

```{r technology-evolution, fig.cap="Wireless Technology Evolution"}
# Wireless generations
generations <- data.frame(
  generation = c("1G", "2G", "3G", "4G", "5G", "6G (projected)"),
  year = c(1980, 1991, 2001, 2009, 2019, 2030),
  data_rate_Mbps = c(0.002, 0.064, 2, 100, 1000, 1000000),  # peak rates
  technology = c("AMPS", "GSM", "UMTS", "LTE", "5G NR", "THz")
)

ggplot(generations, aes(x = year, y = data_rate_Mbps, color = generation)) +
  geom_line(size = 1.5) +
  geom_point(size = 4) +
  geom_text(aes(label = generation), vjust = -1, size = 4) +
  scale_y_log10() +
  labs(
    title = "Wireless Technology Evolution",
    subtitle = "Peak Data Rate Growth Over Generations",
    x = "Year",
    y = "Peak Data Rate (Mbps, log scale)",
    color = "Generation"
  ) +
  theme_minimal() +
  theme(legend.position = "none")
```


# About {data-icon="fa-info-circle"}

## Column

### About These Notes

#### Purpose

These teaching notes provide a comprehensive journey through RF engineering concepts, organized from the smallest scales (atomic/quantum) to the largest (cosmic/space). This structure helps students understand:

1. How fundamental physics principles scale up to practical applications
2. The interconnections between different areas of RF engineering
3. Real-world applications at each scale

#### How to Use These Notes

**Navigation:**
- Use the tabs at the top to jump between different scale levels
- Each tab contains multiple subsections accessible via the internal tabs
- All sections include theoretical explanations, visualizations, and practical examples

**Interactive Elements:**
- Graphs and charts are generated dynamically
- Equations are rendered using LaTeX
- Code examples demonstrate RF calculations

#### Topics Covered

1. **Atomic & Quantum Level**: Fundamental RF physics
2. **Molecular & Material Level**: RF materials and substrates
3. **Device Level**: Components, circuits, and antennas
4. **System Level**: Complete RF systems and communications
5. **Terrestrial Level**: Networks and infrastructure
6. **Cosmic Level**: Space communications and radio astronomy

#### Author Information

These notes are designed for RF engineering students and professionals seeking a comprehensive understanding of the field. The material progresses from fundamental theory to practical applications.

#### Technical Requirements

**To render these notes:**

- R (version ≥ 4.0)
- RStudio (recommended)
- Required R packages:
  - flexdashboard
  - knitr
  - ggplot2

**To compile:**

```r
rmarkdown::render("RF_Teaching_Notes.Rmd")
```

#### References

Key textbooks and resources used:

- Pozar, D. M. (2011). *Microwave Engineering*
- Balanis, C. A. (2016). *Antenna Theory: Analysis and Design*
- Rappaport, T. S. (2002). *Wireless Communications: Principles and Practice*
- IEEE Transactions on Microwave Theory and Techniques
- Various ITU and 3GPP technical specifications

#### License

These educational materials are provided for teaching and learning purposes.

#### Version

Version 1.0 - 2026

---

**Feedback Welcome:** Suggestions for improvements or additional topics are welcome!
